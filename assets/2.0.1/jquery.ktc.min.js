/*global jQuery */
/*jshint browser:true */
/*!
 * FitVids 1.1
 *
 * Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
 * Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 *
 */
(function( $ ){

	"use strict";

	$.fn.fitVids = function( options ) {
		var settings = {
			customSelector: null
		};

		if(!document.getElementById('fit-vids-style')) {
			// appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js
			var head = document.head || document.getElementsByTagName('head')[0];
			var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';
			var div = document.createElement('div');
			div.innerHTML = '<p>x</p><style id="fit-vids-style">' + css + '</style>';
			head.appendChild(div.childNodes[1]);
		}

		if ( options ) {
			$.extend( settings, options );
		}

		return this.each(function(){
			var selectors = [
				"iframe[src*='player.vimeo.com']",
				"iframe[src*='youtube.com']",
				"iframe[src*='youtube-nocookie.com']",
				"iframe[src*='kickstarter.com'][src*='video.html']",
				"object",
				"embed"
			];

			if (settings.customSelector) {
				selectors.push(settings.customSelector);
			}

			var $allVideos = $(this).find(selectors.join(','));
			$allVideos = $allVideos.not("object object"); // SwfObj conflict patch

			$allVideos.each(function(){
				var $this = $(this);
				if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }
				var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),
					width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),
					aspectRatio = height / width;
				if(!$this.attr('id')){
					var videoID = 'fitvid' + Math.floor(Math.random()*999999);
					$this.attr('id', videoID);
				}
				$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+"%");
				$this.removeAttr('height').removeAttr('width');
			});
		});
	};
// Works with either jQuery or Zepto
})( window.jQuery || window.Zepto );

/**
 * Fulcrum Site Scripts
 *
 * @package     KnowTheCode\FulcrumSite
 * @since       2.0.0
 * @author      hellofromTonya
 * @link        https://KnowTheCode.io
 * @license     GPL-2.0+
 */
!function(n,t,e,i){"use strict";n.fn.fulcrumQA=function(t){var e=n(this),i={iconEl:".qa--icon",iconClassname:{open:"",close:""}};e.vars=n.extend({},i,t);var o=(e.vars.namespace,{}),r=e.next(),c={open:e.vars.iconClassname.open,close:e.vars.iconClassname.close},s=e.find(e.vars.iconEl);o={init:function(){o.closeAnswersOnPageLoad(),o.clickHandler()},closeAnswersOnPageLoad:function(){n.each(e,function(n){if(o.isAnswerToBeClosed(n)){var t=o.getAnswer(n);t.hide()}})},clickHandler:function(){e.on("click",function(){var n=e.index(this);o.toggleAnswer(n)})},toggleAnswer:function(n){var t=o.getAnswer(n),e=o.getIcon(n);o.isAnswerShowing(t)?o.closeAnswer(t,e):o.openAnswer(t,e)},openAnswer:function(n,t){n.slideDown(),o.changeIconClassname(t,!0)},closeAnswer:function(n,t){n.slideUp(),o.changeIconClassname(t,!1)},changeIconClassname:function(n,t){t=o.setDefaultState(t);var e=o.getIconClassname(t,!1),i=o.getIconClassname(t,!0);n.removeClass(e).addClass(i)},getAnswer:function(t){if(t in r)return n(r[t])},getIcon:function(t){if(t in s)return n(s[t])},getIconClassname:function(n,t){return n=o.setDefaultState(n),t=o.setDefaultState(t),t?n?c.close:c.open:n?c.open:c.close},setDefaultState:function(n){return 1==n},isAnswerToBeClosed:function(t){if(t in s){var e=s[t];return n(e).hasClass(c.open)}return!1},isAnswerShowing:function(n){return n.is(":visible")}},o.init()}}(jQuery,window,document),function(n,t,e,i){"use strict";var o=n(t);n.fn.isOnScreen=function(t){var e=n(this),i={percentX:1,percentY:1};e.vars=n.extend({},i,t);var r={},c={},s=this.outerWidth(),a=this.outerHeight(),u={init:function(){return u.initViewport(),u.initLimits(),u.checkState()},initViewport:function(){c={width:o.width(),height:o.height(),top:o.scrollTop(),left:o.scrollLeft()},c.bottom=c.top+c.height,c.right=c.left+c.width},initLimits:function(){r=e.offset(),r.right=r.left+s,r.bottom=r.top+a},checkState:function(){var n=!(c.right<r.left||c.left>r.right||c.bottom<r.top||c.top>r.bottom);return!!n&&u.isPartiallyOnScreen()},isPartiallyOnScreen:function(){return u.xIsPartiallyOnScreen()&&u.yIsPartiallyOnScreen()},xIsPartiallyOnScreen:function(){var n={left:Math.min(1,(r.right-c.left)/s),right:Math.min(1,(c.right-r.left)/s)},t=n.left*n.right;return t>=e.vars.percentX},yIsPartiallyOnScreen:function(){var n={top:Math.min(1,(r.bottom-c.top)/a),bottom:Math.min(1,(c.bottom-r.top)/a)},t=n.top*n.bottom;return t>=e.vars.percentY}};return u.init()}}(jQuery,window,document),function(n,t,e,i){"use strict";function o(){r()}function r(){n(".plan_select__term").on("click",function(t){var e=n(this),i="."+e.data("button"),o=e.data("link");n(i).attr("href",o)})}n(e).ready(function(){o()})}(jQuery,window,document),function(n,t,e,i){"use strict";n(e).ready(function(){"object"==typeof ktcScriptParameters&&n(".qa--question").fulcrumQA(ktcScriptParameters.qa)})}(jQuery,window,document),function(n,t,e,i){"use strict";function o(){var t=n(".scrollup");r(t),c(t)}function r(e){var i=n(t).height()/2;n(t).scroll(function(){var t=n(this).scrollTop();t>i?e.slideDown():e.slideUp()})}function c(t){t.on("click",function(){return n("html, body").animate({scrollTop:0},2e3),!1})}n(e).ready(function(){o()})}(jQuery,window,document),function(n,t,e,i){"use strict";function o(){c=n("html, body"),n('a[href^="#"]').on("click",function(n){n.preventDefault(),r(this.hash,n)})}function r(t,e){var i=n(t);return!("undefined"==typeof i||!i.length)&&(null==s&&(s=n("#partner-adspot"),a=s.height()),void c.stop().animate({scrollTop:i.offset().top-a},2e3,"swing"))}var c,s,a=0;n(e).ready(function(){o()})}(jQuery,window,document);

/**
 * Library JavaScript handling.
 *
 * @package     Library
 * @since       1.0.0
 * @author      hellofromTonya
 * @link        https://knowthcode.io
 * @license     GNU General Public License 2.0+
 */
!function(n,i,t,e){"use strict";function o(){u()}function u(){n(".embed-vimeo").fitVids()}n(t).ready(function(){o()})}(jQuery,window,document);

/**
 * Child theme's scripts.
 *
 * @package     KnowTheCode\ChildTheme
 * @since       1.0.0
 * @author      hellofromTonya
 * @link        https://knowthcode.io
 * @license     GNU General Public License 2.0+
 */
!function($){$(document).ready(function(){$(".aniview").AniView()})}(jQuery),function($){var uniqueCntr=0;$.fn.scrolled=function(waitTime,fn){"function"==typeof waitTime&&(fn=waitTime,waitTime=200);var tag="scrollTimer"+uniqueCntr++;this.scroll(function(){var self=$(this),timer=self.data(tag);timer&&clearTimeout(timer),timer=setTimeout(function(){self.removeData(tag),fn.call(self[0])},waitTime),self.data(tag,timer)})},$.fn.AniView=function(options){function EnteringViewport(element){var elementOffset=$(element).offset(),elementTop=elementOffset.top+$(element).scrollTop(),viewportBottom=(elementOffset.top+$(element).scrollTop()+$(element).height(),$(window).scrollTop()+$(window).height());return elementTop<viewportBottom-settings.animateThreshold}function RenderElementsCurrentlyInViewport(collection){$(collection).each(function(index,element){var elementParentContainer=$(element).parent(".av-container");$(element).is("[data-av-animation]")&&!$(elementParentContainer).hasClass("av-visible")&&EnteringViewport(elementParentContainer)&&($(element).css("opacity",1),$(elementParentContainer).addClass("av-visible"),$(element).addClass("animated "+$(element).attr("data-av-animation")))})}var settings=$.extend({animateThreshold:0,scrollPollInterval:20},options),collection=this;$(collection).each(function(index,element){$(element).wrap('<div class="av-container"></div>'),$(element).css("opacity",0)}),RenderElementsCurrentlyInViewport(collection),$(window).scrolled(settings.scrollPollInterval,function(){RenderElementsCurrentlyInViewport(collection)})}}(jQuery),function($,window,document,undefined){"use strict";function initMobile(){$("#hamburger-button").on("click",toggleMobileMainMenu)}function initMenu(){$mainNav.on("click",initClickHandler)}function initClickHandler(){var index=$mainNav.index(this);$siteHeader.hasClass(openClass)&&resetSubNavs(),$body.addClass(openClass),$siteHeader.addClass(openClass),setSubnav(index),initClose()}function setSubnav(index){var $subNav=$($subNavs[index]);$subNav.addClass(openClass).css("visibility","")}function initClose(){$(".subnav-close--button").on("click",function(){$siteHeader.removeClass(openClass),resetSubNavs(),$body.removeClass(openClass)})}function resetSubNavs(){$subNavs.removeClass(openClass)}var $body,$siteHeader,$mainNav,$subNavs,openClass="subnav-open",init=function(){$body=$("body"),$siteHeader=$(".site-header"),$mainNav=$(".main-nav li.--has-subnav"),$subNavs=$(".site-header--subnav"),initMobile(),initMenu()},toggleMobileMainMenu=function(){var bodyClass="main-nav--open";return $body.hasClass(bodyClass)?$body.removeClass(bodyClass):$body.addClass(bodyClass),!1};$("document").ready(function(){init()})}(jQuery,window,document);
